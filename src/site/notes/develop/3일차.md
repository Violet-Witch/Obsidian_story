---
{"dg-publish":true,"permalink":"/develop/3/"}
---

# 『빈대 잡다 초가삼간 으아아아ㅏㅏ아ㅏㅇㄱ』
> 오늘의 교훈: *"덕질을 하는 데 싱가폴 데이터베이스가 필요하진 않다."*
 
 
***
### [개발 목표 : Vertra 웹사이트 제작하기]
- [x] 마이너한 버그 수정
- [x] 터진 커뮤니티 탭 수습하기
	1. 외부 DB 도입
- [x] 회사 소개 탭 만들기
- [ ] 커뮤니티 탭 기능 모두 추가하기
	1. 사용자 직업군 보이게
	2. 댓글 작성 기능
	3. 회원가입/로그인

### [사용한 개발 툴]
- **python** - 프로그래밍 언어. 제일 쉬워서 했습니다.
- **Django** - 파이썬 기반 웹 프레임워크입니다. 
- **VSCode** - 원래 아톰 썼는데 힙스터병이 치료되었습니다.
- **figma** - 디자인 툴입니다. 제가 한 게 없어서 설명할 게 없음.
- **Vercel** - 서버리스 방식 클라우드 컴퓨팅 지원 서비스. 만악의 근원.

---
## [0. 아ㅏ아아아ㅏ아아아ㅏㄱ]

### 버그! 🐛
- 얼마 전 파이썬 버전 업그레이드를 했습니다.
![Pasted image 20260214002952.png](/img/user/develop/%EC%9D%B4%EB%AF%B8%EC%A7%80/Pasted%20image%2020260214002952.png)

-> 그리고 결과
![Pasted image 20260214003106.png](/img/user/develop/%EC%9D%B4%EB%AF%B8%EC%A7%80/Pasted%20image%2020260214003106.png)
~~(라퓨타 입국금지 걸림)~~
- 그냥 죽으려고요.
- 삶을 포기하기로 결정했습니다.

### 이 외에도 마이너한 버그...🐌
1. 다른 탭 눌러도 그 탭 글씨가 안 붉어지는 문제가 있었습니다.
- `base.html` 수정했습니다.
``` html
<nav class="gnb">
	<ul>
        <li><a href="{% url 'base:home' %}" class="{% if request.resolver_match.url_name == 'home' %}active{% endif %}">홈</a></li>
        <li><a href="{% url 'base:about' %}" class="{% if request.resolver_match.url_name == 'about' %}active{% endif %}">회사 소개</a></li>
        <li><a href="{% url 'base:defense' %}" class="{% if request.resolver_match.url_name == 'defense' %}active{% endif %}">Defense & Space</a></li>
        <li><a href="{% url 'base:business' %}" class="{% if request.resolver_match.url_name == 'business' %}active{% endif %}">사업 분야</a></li>
        <li><a href="{% url 'base:security' %}" class="{% if request.resolver_match.url_name == 'security' %}active{% endif %}">보안</a></li>
        <li><a href="{% url 'base:news' %}" class="{% if request.resolver_match.url_name == 'news' %}active{% endif %}">최신 뉴스</a></li>
        <li><a href="{% url 'base:community' %}" class="{% if request.resolver_match.url_name == 'community' %}active{% endif %}">커뮤니티</a></li>
        <li><a href="{% url 'base:careers' %}" class="{% if request.resolver_match.url_name == 'careers' %}active{% endif %}">채용</a></li>
	</ul>
</nav>
```
- 와 글씨 꼬라지. 복붙 잘 하십쇼. 하는 김에 연락처도 없앴습니다.

2. home.html에 버튼 링크 잘못 되어있던 문제 해결했습니다.
```html
	<div class="cta-group">
		<a href="/contact" class="btn btn-primary">시작하기 &rarr;</a>
		<a href="/about" class="btn btn-outline">자세히 보기</a>
	</div>
```
- 아니 왜 버그 제보 아무도 안 해줘. 해줘. 나 좀 살려줘.

> [!warning] 경고
> - 오늘 특히 제정신이 아니고 설명이 제대로 안 될 수 있습니다.
> - 성격도 나쁠 예정임.
> - 어쩌라고.
> - 나 집에 갈래.

> [!abstract] 여담
> - 오늘 초밥먹음.
> - [오늘의 노래🎼](https://youtu.be/54WiNqtqamc?list=RD54WiNqtqamc)
> - 이 노래만 주구장창 들음.

---
## [1. 메이저한 버그 수정]

> [!help] 왜 문제가 생겼는가?
> 웹사이트 공유 과정에서 쓴 Vercel과 로컬에서 작동하는 SQLite(장고의 기본 데이터베이스)가 충돌했습니다. 뭐 좀 깊게 들어가도 되는데 귀찮으니 그만두죠. 검색하면 나올겁니다 아마도.

>[!bug] 으아악
>웹사이트 공유 과정을 안 보여드렸는데 거기서 문제가 발생한거라 웹사이트 공유 하는 법 링크를 가져왔습니다.
>- [[Git] GitHub 레파지토리(Repository) 생성하고 소스 올리기](https://velog.io/@kho5420/Git-GitHub-%EB%A0%88%ED%8C%8C%EC%A7%80%ED%86%A0%EB%A6%ACRepository-%EC%83%9D%EC%84%B1%ED%95%98%EA%B3%A0-%EC%86%8C%EC%8A%A4-%EC%98%AC%EB%A6%AC%EA%B8%B0#2-repositories%EC%A0%80%EC%9E%A5%EC%86%8C)
>- [[vercel] vercel로 github 웹 페이지 배포하기](https://velog.io/@zzangsubin/vercel-vercel%EB%A1%9C-github-%EC%9B%B9-%ED%8E%98%EC%9D%B4%EC%A7%80-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0)

#### [Vercel Postgres 인스턴스 생성]
![Pasted image 20260214052452.png](/img/user/develop/%EC%9D%B4%EB%AF%B8%EC%A7%80/Pasted%20image%2020260214052452.png)
- Vercel 프로젝트 페이지 상단의 Storage 탭에서
- Create Database 클릭
![Pasted image 20260214053235.png](/img/user/develop/%EC%9D%B4%EB%AF%B8%EC%A7%80/Pasted%20image%2020260214053235.png)
- Neon 선택하고 다음 넘어가면(중간 창 하나 있는데 그냥 넘어감)
![Pasted image 20260214053617.png](/img/user/develop/%EC%9D%B4%EB%AF%B8%EC%A7%80/Pasted%20image%2020260214053617.png)
- 지역은 최대한 가까운 싱가포르로 설정.(한국 없음)
- Continue 누르고 넘어감
- 이름 바꾸고 싶으면 바꾸고(난 안 바꿈)
- Create까지 누르고 생성하면 됨.
![Pasted image 20260214053952.png](/img/user/develop/%EC%9D%B4%EB%AF%B8%EC%A7%80/Pasted%20image%2020260214053952.png)
- Connect Project 눌러서 진행중인 프로젝트와 연결

#### [로컬 환경 구성]
**가상환경에 입장해서** 터미널에 입력합니다. 패키지 설치임.
```
pip install psycopg2-binary dj-database-url
```

의존성 파일 갱신. 터미널에 입력.
```
$reqs = pip freeze; [System.IO.File]::WriteAllLines("D:\Vertra\requirements.txt", $reqs)
```

>[!danger]
>저 파일 만드는 과정을 아마 생략했을거라(나도 가상환경 설정하다 만들었던듯) 안 될 수도 있음. 저 파일 없으시면 만드시면 됩니다.
>`equirements.txt`파일이고 코드는 이렇습니다. 
>```
>asgiref==3.7.2
dj-database-url==3.1.0
Django==4.2.5
psycopg2-binary==2.9.11
sqlparse==0.4.4
tzdata==2023.3
whitenoise==6.11.0
>```
>루트(root, 최상위 프로젝트 폴더) 폴더 안에 있어요.
>이 파일 인코딩 형식 **UTF-8 (BOM 없음)** 이어야함.
#### [데이터베이스 설정 고도화 & 마이그레이션]
`settings.py`에서
상단에 `from pathlib import Path` 있는 곳에 같이 import
```python
import dj_database_url # 얘랑
import os # 얘가 새 코드
from pathlib import Path # 얜 원래 있어야 하는 놈
```
기존 DATABASES 설정 변경(여전히 `settings.py`)
```python
DATABASES = {
    'default': dj_database_url.config(
        default=os.environ.get('DATABASE_URL'),
        conn_max_age=600,
        conn_health_checks=True,
    )
}

# DATABASE_URL이 없는 로컬 환경을 위한 예외 처리
if not os.environ.get('DATABASE_URL'):
    DATABASES['default'] = {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
```
터미널에서 차례대로 실행
```
git add .
git commit -m "Feat: Integrate Vercel Postgres"
git push origin main
```

```
pip install -r requirements.txt
python manage.py migrate
```

본인 주소는 알아서 입력하도록 합시다...
```
$env:DATABASE_URL="원격_Postgres_접속_주소"
python manage.py migrate
```
이러고 적용 안 되면 git 한 번 더 하세요.


### [2. 회사 소개 탭]
`about.html`을 수정합니다.
```html
{% extends 'base/base.html' %}
{% load static %}

{% block title %}회사 소개 - VERTRA{% endblock %}

{% block content %}
<main class="about-container">
    <header class="about-header">
        <h1 class="fade-in">Global Defense & Space Leader<span class="highlight">.</span></h1>
        <p class="subtitle fade-in">
            Vertra는 정점 그 너머에 닿겠다는 신념으로 전 세계를 향해 나아가는 국내 대표 방산 기업입니다.
            거인의 머리 위에 올라 세상을 바라보며, 기술과 혁신을 통해 발전하는 미래를 만들어 나가겠습니다.
        </p>
    </header>

    <section class="stat-section">
        <div class="stat-grid">
            <div class="stat-card">
                <div class="stat-icon">🌍</div>
                <div class="stat-info">
                    <h2 class="stat-value">15+</h2>
                    <p class="stat-label">글로벌 사업장</p>
                    <p class="stat-desc">전 세계 15개국 거점 운영</p>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">🏆</div>
                <div class="stat-info">
                    <h2 class="stat-value">42%</h2>
                    <p class="stat-label">국내 시장 점유율</p>
                    <p class="stat-desc">방산 및 민간 우주 발사체 분야 압도적 점유율 1위</p>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">🛡️</div>
                <div class="stat-info">
                    <h2 class="stat-value">1,500+</h2>
                    <p class="stat-label">국내외 핵심 특허</p>
                    <p class="stat-desc">차세대 미사일 방어 체계 및 위성 통신 핵심 기술 보유</p>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">👥</div>
                <div class="stat-info">
                    <h2 class="stat-value">5,500+</h2>
                    <p class="stat-label">글로벌 전문 인력</p>
                    <p class="stat-desc">전체 임직원의 60% 이상이 R&D 전문 연구진으로 구성.</p>
                </div>
            </div>
        </div>
    </section>
</main>
{% endblock %}
```
`style.css` 아래에 내용을 붙여넣습니다.
```css
/* 회사 소개 전용 스타일 */
.about-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 180px 40px 100px; /* 상단 여백 확대 (대기업 느낌의 여유) */
}

.about-header {
    text-align: center;
    margin-bottom: 80px;
}

.about-header h1 {
    font-size: 64px;
    font-weight: 800;
    color: #ffffff;
    margin-bottom: 24px;
    letter-spacing: -1px;
}

.about-header .subtitle {
    font-size: 20px;
    color: #a0a0a0;
    max-width: 800px;
    margin: 0 auto;
    line-height: 1.6;
}

/* 통계 그리드 레이아웃 */
.stat-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* 2x2 배열 혹은 4개 나란히 배치 가능 */
    gap: 24px;
}

/* 사용자 지정 컬러 적용 카드 스타일 */
.stat-card {
    background-image: linear-gradient(
        135deg, 
        rgba(15, 20, 50, 0.6) 0%, 
        rgba(25, 30, 90, 0.4) 100%
    );
    /* (선택 사항) 카드 뒤 배경을 흐리게 만들어 유리 같은 질감을 주는 효과 */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);

    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 16px;
    padding: 40px;
    display: flex;
    align-items: center;
    gap: 30px;
    transition: all 0.3s ease;
    transition: transform 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

.stat-card:hover {
    transform: translateY(-10px);
    border-color: #da0d40; /* 포인트 레드 */
    /* 붉은빛이 감도는 그림자 추가 */
    box-shadow: 0 20px 40px rgba(218, 13, 64, 0.2); 
}

.stat-icon {
    font-size: 40px;
    background: rgba(218, 13, 64, 0.1);
    width: 80px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 12px;
}

.stat-value {
    font-size: 42px;
    font-weight: 800;
    color: #ffffff;
    margin-bottom: 4px;
}

.stat-label {
    font-size: 16px;
    font-weight: 600;
    color: #da0d40; /* 포인트 컬러 */
    margin-bottom: 12px;
}

.stat-desc {
    font-size: 14px;
    color: #888;
    line-height: 1.5;
}
```
이러고 아까 했던 git 명령어 또 해주면 됩니다.
```
git add .
git commit -m "Feat: Integrate Vercel Postgres"
git push origin main
```
커밋 메세지는 아무거나 해도 됨.
> [!tip]
> ![Pasted image 20260214081020.png](/img/user/develop/%EC%9D%B4%EB%AF%B8%EC%A7%80/Pasted%20image%2020260214081020.png)
> 히히 이쁘당.

---
## [3. 못 해냈다.]

>[!fail] 아아아아아아아ㅏ아ㅏ악
>- 하루 안에 못 끝내서 남은 과제는 4일차로 넘어갑니다
>- 근데 커뮤니티 기능은 2일차에도 에바라고 쓰긴 했어 ㅋㅋ
>- 아 근데 버그만 안 터졌으면 할 수 있었을것같은데 아
>- 어제 DB건든단게 분명 이 뜻이 아니었는데

>[!todo] 다음 과제
>- [ ] 회사 소개 탭 만들기
>- [ ] 커뮤니티 탭 기능 모두 추가하기
>	1. 사용자 직업군 보이게
>	2. 댓글 작성 기능
>	3. 회원가입/로그인

>[!Abstract] 여담
>- 저번이랑 반대로 저번이 한 게 많아보이는데 이번이 훨씬 어려웠음
>- 물론 그 어려운 과정을 다 적진 않음
>- 여러분은 저처럼 하지 말고 처음부터 환경 다 구축해두고 하십쇼
>- 아님 하지 마 그냥 왜 해 이걸
>- 비효율적이니까 다 안 썼는데
>- 버그 수정하는 과정이 보이는 것처럼 순탄하지 않음
>- 사진 한 장으로 넘어간 파이썬 버전 업그레이드도 간단해서가 아니라
>- 여기에 못 쓸 정도로 버그가 미친듯이 터져서 못 보여드림
>- 나름 풀스택 개발자라서 온갖거 다 건들고 다닐 수 있음